# Linux ç®€ä»‹

Linux å†…æ ¸æ˜¯ç”±èŠ¬å…°äººæ—çº³æ–¯Â·æ‰˜ç“¦å…¹ï¼ˆLinus Torvaldsï¼‰ç¼–å†™çš„ã€‚

Linux æ˜¯ä¸€å¥—å…è´¹ä½¿ç”¨å’Œè‡ªç”±ä¼ æ’­çš„ç±» Unix æ“ä½œç³»ç»Ÿï¼Œæ˜¯ä¸€ä¸ªåŸºäº POSIXï¼ˆå¯ç§»æ¤æ“ä½œç³»ç»Ÿæ¥å£ï¼‰ å’Œ UNIX çš„**å¤šç”¨æˆ·**ã€**å¤šä»»åŠ¡**ã€**æ”¯æŒå¤šçº¿ç¨‹**å’Œ**å¤š CPU** çš„æ“ä½œç³»ç»Ÿã€‚

Linux èƒ½**è¿è¡Œä¸»è¦çš„ UNIX å·¥å…·è½¯ä»¶ã€åº”ç”¨ç¨‹åºå’Œç½‘ç»œåè®®**ã€‚å®ƒæ”¯æŒ 32 ä½å’Œ 64 ä½ç¡¬ä»¶ã€‚Linux ç»§æ‰¿äº† Unix **ä»¥ç½‘ç»œä¸ºæ ¸å¿ƒ**çš„è®¾è®¡æ€æƒ³ï¼Œæ˜¯ä¸€ä¸ªæ€§èƒ½ç¨³å®šçš„å¤šç”¨æˆ·ç½‘ç»œæ“ä½œç³»ç»Ÿã€‚

Kali Linux : å®‰å…¨æ¸—é€æµ‹è¯•ä½¿ç”¨

redhat è®¤è¯å·¥ç¨‹å¸ˆ

**åœ¨ linux ä¸­ä¸€åˆ‡çš†æ–‡ä»¶**

# linux æ–‡ä»¶ç»“æ„

linux æ ¹ç›®å½•çš„ç»„æˆ: ![image-20211211174240517](/Users/qr/Library/Application Support/typora-user-images/image-20211211174240517.png)

**å„ç›®å½•çš„å«ä¹‰ï¼š**

- **/bin**ï¼šbinæ˜¯Binaryçš„ç¼©å†™, è¿™ä¸ªç›®å½•å­˜æ”¾ç€æœ€ç»å¸¸ä½¿ç”¨çš„å‘½ä»¤ã€‚
- **/bootï¼š** è¿™é‡Œå­˜æ”¾çš„æ˜¯å¯åŠ¨Linuxæ—¶ä½¿ç”¨çš„ä¸€äº›æ ¸å¿ƒæ–‡ä»¶ï¼ŒåŒ…æ‹¬ä¸€äº›è¿æ¥æ–‡ä»¶ä»¥åŠé•œåƒæ–‡ä»¶ã€‚
- **/dev ï¼š** devæ˜¯Device(è®¾å¤‡)çš„ç¼©å†™, å­˜æ”¾çš„æ˜¯Linuxçš„å¤–éƒ¨è®¾å¤‡ï¼Œåœ¨Linuxä¸­è®¿é—®è®¾å¤‡çš„æ–¹å¼å’Œè®¿é—®æ–‡ä»¶çš„æ–¹å¼æ˜¯ç›¸åŒçš„ã€‚
- **/etcï¼š** è¿™ä¸ªç›®å½•ç”¨æ¥å­˜æ”¾æ‰€æœ‰çš„ç³»ç»Ÿç®¡ç†æ‰€éœ€è¦çš„**é…ç½®æ–‡ä»¶**å’Œå­ç›®å½•ã€‚
- **/home**ï¼šç”¨æˆ·çš„ä¸»ç›®å½•ï¼Œåœ¨Linuxä¸­ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„ç›®å½•ï¼Œä¸€èˆ¬è¯¥ç›®å½•åæ˜¯ä»¥ç”¨æˆ·çš„è´¦å·å‘½åçš„ã€‚
- **/lib**ï¼šè¿™ä¸ªç›®å½•é‡Œå­˜æ”¾ç€ç³»ç»Ÿæœ€åŸºæœ¬çš„åŠ¨æ€è¿æ¥å…±äº«åº“ï¼Œå…¶ä½œç”¨ç±»ä¼¼äºWindowsé‡Œçš„DLLæ–‡ä»¶ã€‚
- **/lost+found**ï¼šè¿™ä¸ªç›®å½•ä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ç©ºçš„ï¼Œå½“ç³»ç»Ÿéæ³•å…³æœºåï¼Œè¿™é‡Œå°±å­˜æ”¾äº†ä¸€äº›æ–‡ä»¶ã€‚
- **/media**ï¼šlinuxç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«ä¸€äº›è®¾å¤‡ï¼Œä¾‹å¦‚Uç›˜ã€å…‰é©±ç­‰ç­‰ï¼Œå½“è¯†åˆ«åï¼Œlinuxä¼šæŠŠè¯†åˆ«çš„è®¾å¤‡æŒ‚è½½åˆ°è¿™ä¸ªç›®å½•ä¸‹ã€‚
- **/mnt**ï¼šç³»ç»Ÿæä¾›è¯¥ç›®å½•æ˜¯ä¸ºäº†è®©ç”¨æˆ·ä¸´æ—¶æŒ‚è½½åˆ«çš„æ–‡ä»¶ç³»ç»Ÿçš„ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…‰é©±æŒ‚è½½åœ¨/mnt/ä¸Šï¼Œç„¶åè¿›å…¥è¯¥ç›®å½•å°±å¯ä»¥æŸ¥çœ‹å…‰é©±é‡Œçš„å†…å®¹äº†ã€‚
- **/opt**ï¼šè¿™æ˜¯ç»™ä¸»æœºé¢å¤–å®‰è£…è½¯ä»¶æ‰€æ‘†æ”¾çš„ç›®å½•ã€‚
  - mac zsh ğŸ¤”

- **/proc**ï¼šè¿™ä¸ªç›®å½•æ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„ç›®å½•ï¼Œå®ƒæ˜¯ç³»ç»Ÿå†…å­˜çš„æ˜ å°„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç›´æ¥è®¿é—®è¿™ä¸ªç›®å½•æ¥è·å–ç³»ç»Ÿä¿¡æ¯ã€‚
- **/root**ï¼šè¯¥ç›®å½•ä¸ºç³»ç»Ÿç®¡ç†å‘˜ï¼Œä¹Ÿç§°ä½œè¶…çº§æƒé™è€…çš„ç”¨æˆ·ä¸»ç›®å½•ã€‚
- **/sbin**ï¼šså°±æ˜¯Super Userçš„æ„æ€ï¼Œè¿™é‡Œå­˜æ”¾çš„æ˜¯ç³»ç»Ÿç®¡ç†å‘˜ä½¿ç”¨çš„ç³»ç»Ÿç®¡ç†ç¨‹åºã€‚
- **/srv**ï¼šè¯¥ç›®å½•å­˜æ”¾ä¸€äº›æœåŠ¡å¯åŠ¨ä¹‹åéœ€è¦æå–çš„æ•°æ®ã€‚
- **/sys**ï¼šè¿™æ˜¯linux2.6å†…æ ¸çš„ä¸€ä¸ªå¾ˆå¤§çš„å˜åŒ–ã€‚è¯¥ç›®å½•ä¸‹å®‰è£…äº†2.6å†…æ ¸ä¸­æ–°å‡ºç°çš„ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿ sysfs ã€‚
- **/tmp**ï¼šè¿™ä¸ªç›®å½•æ˜¯ç”¨æ¥å­˜æ”¾ä¸€äº›ä¸´æ—¶æ–‡ä»¶çš„ã€‚
  - ä¸´æ—¶çš„æ–‡ä»¶

- **/usr**ï¼šè¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„ç›®å½•ï¼Œç”¨æˆ·çš„å¾ˆå¤šåº”ç”¨ç¨‹åºå’Œæ–‡ä»¶éƒ½æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼Œç±»ä¼¼äºwindowsä¸‹çš„program filesç›®å½•ã€‚

  - **/usr/binï¼š** ç³»ç»Ÿç”¨æˆ·ä½¿ç”¨çš„åº”ç”¨ç¨‹åºã€‚
  - **/usr/sbinï¼š** è¶…çº§ç”¨æˆ·ä½¿ç”¨çš„æ¯”è¾ƒé«˜çº§çš„ç®¡ç†ç¨‹åºå’Œç³»ç»Ÿå®ˆæŠ¤ç¨‹åºã€‚
  - **/usr/srcï¼š** å†…æ ¸æºä»£ç é»˜è®¤çš„æ”¾ç½®ç›®å½•ã€‚
- **/var**ï¼šè¿™ä¸ªç›®å½•ä¸­å­˜æ”¾ç€åœ¨ä¸æ–­æ‰©å……ç€çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬ä¹ æƒ¯å°†é‚£äº›ç»å¸¸è¢«ä¿®æ”¹çš„ç›®å½•æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹ã€‚åŒ…æ‹¬å„ç§æ—¥å¿—æ–‡ä»¶ã€‚
- **/run**ï¼šæ˜¯ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿï¼Œå­˜å‚¨ç³»ç»Ÿå¯åŠ¨ä»¥æ¥çš„ä¿¡æ¯ã€‚å½“ç³»ç»Ÿé‡å¯æ—¶ï¼Œè¿™ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶åº”è¯¥è¢«åˆ æ‰æˆ–æ¸…é™¤ã€‚

- /www: è¿™ä¸ªç›®å½•ä¸ä¸€å®šä¼šæœ‰, ä¸€èˆ¬ç”¨äºå­˜æ”¾æœåŠ¡å™¨ç›¸å…³çš„èµ„æº, ä¾‹å¦‚é¡¹ç›®, é™æ€èµ„æºç­‰

# Linux å‘½ä»¤

## æ“ä½œç³»ç»Ÿç›¸å…³

```shell
sync # å°†æ•°æ®ä»å†…å­˜åŒæ­¥åˆ°ç¡¬ç›˜ä¸­

shutdonw # å…³æœº

reboot # é‡å¯

halt # å…³é—­ç³»ç»Ÿ, ç­‰åŒäº shutdown -h now å’Œ poweroff
```

## æ–‡ä»¶ç›¸å…³

```shell
# åˆ‡æ¢ç›®å½•
cd XX # åˆ‡æ¢åˆ°æŸä¸ªç›®å½•ä¸‹é¢
cd / # åˆ‡æ¢åˆ°æ ¹ç›®å½•
cd .. # è¿”å›åˆ°ä¸Šä¸€çº§

# æ˜¾ç¤ºå½“å‰è·¯å¾„å†…å®¹
ls # æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹çš„å†…å®¹
ls -a # åˆ—å‡ºæ‰€æœ‰å†…å®¹, åŒ…æ‹¬éšè—å†…å®¹
ls -l # æ˜¾ç¤ºå†…å®¹çš„å±æ€§å’Œæƒé™ç­‰å†…å®¹

ll # æŸ¥çœ‹å½“å‰ç›®å½•å†…å®¹(ç›¸å¯¹äº ls æ˜¾ç¤ºçš„å†…å®¹æ¯”è¾ƒè¯¦ç»†), ç›¸å½“äº ls -l

pwd # æŸ¥çœ‹å½“å‰ä½ç½®è·¯å¾„

# åˆ›å»ºç›®å½•
mkdir [-mp] dirName # åˆ›å»ºä¸€ä¸ªç›®å½•
	-m : é…ç½®ç›®å½•çš„æƒé™
	-p : é€’å½’åˆ›å»ºç›®å½•
mkdir -p /dir1/dir2/dir3 # éœ€è¦åˆ›å»ºå±‚çº§ç›®å½•éœ€è¦å‚æ•° -p

# åˆ é™¤ç›®å½•
rmdir [-p] dir1 # åˆ é™¤ dir1 çš„ç©ºç›®å½•
rmdir -p dir1/dir2/dir3 # é€’å½’åˆ é™¤å¤šçº§ç›®å½•
# rmdir åªèƒ½åˆ é™¤ç©ºç›®å½•, ä¸èƒ½åˆ é™¤åŒ…å«æ–‡ä»¶çš„ç›®å½•

# åˆ é™¤æ–‡ä»¶
rm -rf XX # -f å¼ºåˆ¶åˆ é™¤ -r é€’å½’åˆ é™¤, åˆ é™¤æ–‡ä»¶å¤¹ä¸‹é¢æ‰€æœ‰çš„å†…å®¹
	 -i # äº’åŠ¨, è¯¢é—®æ˜¯å¦åˆ é™¤ 

# å¤åˆ¶æ–‡ä»¶
cp source target # å¤åˆ¶æ–‡ä»¶ source åˆ° target ç›®å½•ä¸‹ 
	-a : ç›¸å½“æ–¼ -pdr çš„æ„æ€ï¼Œè‡³æ–¼ pdr è¯·å‚è€ƒä¸‹åˆ—è¯´æ˜
		-p : è¿åŒæ–‡ä»¶çš„å±æ€§ä¸€èµ·å¤åˆ¶è¿‡å»ï¼Œè€Œéä½¿ç”¨é»˜è®¤å±æ€§(å¤‡ä»½å¸¸ç”¨)
		-d : è‹¥æ¥æºæ¡£ä¸ºè¿ç»“æ¡£çš„å±æ€§(link file)ï¼Œåˆ™å¤åˆ¶è¿ç»“æ¡£å±æ€§è€Œéæ–‡ä»¶æœ¬èº«
		-r : é€’å½’æŒç»­å¤åˆ¶ï¼Œç”¨æ–¼ç›®å½•çš„å¤åˆ¶è¡Œä¸º(å¸¸ç”¨)
	-f : ä¸ºå¼ºåˆ¶(force)çš„æ„æ€ï¼Œè‹¥ç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨ä¸”æ— æ³•å¼€å¯ï¼Œåˆ™ç§»é™¤åå†å°è¯•ä¸€æ¬¡
	-i : è‹¥ç›®æ ‡æ¡£(destination)å·²ç»å­˜åœ¨æ—¶ï¼Œåœ¨è¦†ç›–æ—¶ä¼šå…ˆè¯¢é—®åŠ¨ä½œçš„è¿›è¡Œ(å¸¸ç”¨)
	-l : è¿›è¡Œç¡¬å¼è¿ç»“(hard link)çš„è¿ç»“æ¡£åˆ›å»ºï¼Œè€Œéå¤åˆ¶æ–‡ä»¶æœ¬èº«
	-s : å¤åˆ¶æˆä¸ºç¬¦å·è¿ç»“æ¡£ (symbolic link)ï¼Œäº¦å³ã€æ·å¾„ã€æ–‡ä»¶
	-u : è‹¥ destination æ¯” source æ—§æ‰å‡çº§ destination

# ç§»åŠ¨æ–‡ä»¶æˆ–ç›®å½•, ä¹Ÿå¯ä»¥ç”¨è¿‡ç§»åŠ¨åˆ°åŒä¸€ç›®å½•ä¸‹è¾¾æˆé‡å‘½åçš„æ•ˆæœ
mv 
```

# æ–‡ä»¶å±æ€§

Linuxç³»ç»Ÿæ˜¯ä¸€ç§å…¸å‹çš„å¤šç”¨æˆ·ç³»ç»Ÿï¼Œä¸åŒçš„ç”¨æˆ·å¤„äºä¸åŒçš„åœ°ä½ï¼Œæ‹¥æœ‰ä¸åŒçš„æƒé™ã€‚ä¸ºäº†ä¿æŠ¤ç³»ç»Ÿçš„å®‰å…¨æ€§ï¼ŒLinuxç³»ç»Ÿå¯¹ä¸åŒçš„ç”¨æˆ·è®¿é—®åŒä¸€æ–‡ä»¶ï¼ˆåŒ…æ‹¬ç›®å½•æ–‡ä»¶ï¼‰çš„æƒé™åšäº†ä¸åŒçš„è§„å®šã€‚

åœ¨Linuxä¸­æˆ‘ä»¬å¯ä»¥ä½¿ç”¨`ll`æˆ–è€…`ls â€“l`å‘½ä»¤æ¥æ˜¾ç¤ºä¸€ä¸ªæ–‡ä»¶çš„å±æ€§ä»¥åŠæ–‡ä»¶æ‰€å±çš„ç”¨æˆ·å’Œç»„ï¼Œå¦‚ï¼š

![image-20211212221231026](/Users/qr/note/linux/image-20211212221231026.png)

ä¾‹å¦‚ï¼Œbootæ–‡ä»¶çš„ç¬¬ä¸€ä¸ªå±æ€§ç”¨"d"è¡¨ç¤ºã€‚"d"åœ¨Linuxä¸­ä»£è¡¨è¯¥æ–‡ä»¶æ˜¯ä¸€ä¸ªç›®å½•æ–‡ä»¶ã€‚

åœ¨Linuxä¸­ç¬¬ä¸€ä¸ªå­—ç¬¦ä»£è¡¨è¿™ä¸ªæ–‡ä»¶æ˜¯ç›®å½•ã€æ–‡ä»¶æˆ–é“¾æ¥æ–‡ä»¶ç­‰ç­‰ï¼š

- *å½“ä¸º[ **d** ]åˆ™æ˜¯ç›®å½•
- *å½“ä¸º[ **-** ]åˆ™æ˜¯æ–‡ä»¶
- *è‹¥æ˜¯[ **l** ]åˆ™è¡¨ç¤ºä¸ºé“¾æ¥æ–‡æ¡£ ( link file )
  - é“¾æ¥ç±»ä¼¼äº windows çš„å¿«æ·æ–¹å¼, ä¸Šå›¾çš„ bin ~> usr/bin/ åˆ™æŒ‡æ˜äº†æŒ‡å‘æ–‡ä»¶æœ¬ä½“

- è‹¥æ˜¯[ **b** ]åˆ™è¡¨ç¤ºä¸ºè£…ç½®æ–‡ä»¶é‡Œé¢çš„å¯ä¾›å‚¨å­˜çš„æ¥å£è®¾å¤‡ ( å¯éšæœºå­˜å–è£…ç½® )
- è‹¥æ˜¯[ **c** ]åˆ™è¡¨ç¤ºä¸ºè£…ç½®æ–‡ä»¶é‡Œé¢çš„ä¸²è¡Œç«¯å£è®¾å¤‡ï¼Œä¾‹å¦‚é”®ç›˜ã€é¼ æ ‡ ( ä¸€æ¬¡æ€§è¯»å–è£…ç½® )

æ¥ä¸‹æ¥çš„å­—ç¬¦ä¸­ï¼Œ**ä»¥ä¸‰ä¸ªä¸ºä¸€ç»„**ï¼Œä¸”å‡ä¸º [rwx] çš„ä¸‰ä¸ªå‚æ•°çš„ç»„åˆã€‚

- [ r ]ä»£è¡¨å¯è¯»(read)
- [ w ]ä»£è¡¨å¯å†™(write)
- [ x ]ä»£è¡¨å¯æ‰§è¡Œ(execute)ã€‚

è¿™ä¸‰ä¸ªæƒé™çš„ä½ç½®ä¸ä¼šæ”¹å˜ï¼Œå¦‚æœæ²¡æœ‰æƒé™ï¼Œå°±ä¼šå‡ºç°å‡å·[ - ]

æ¯ä¸ªæ–‡ä»¶çš„å±æ€§ç”±å·¦è¾¹ç¬¬ä¸€éƒ¨åˆ†çš„10ä¸ªå­—ç¬¦æ¥ç¡®å®šï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼š

![image-20211212215717567](/Users/qr/Library/Application Support/typora-user-images/image-20211212215717567.png)

ä»å·¦è‡³å³ç”¨0-9è¿™äº›æ•°å­—æ¥è¡¨ç¤ºã€‚

ç¬¬0ä½ç¡®å®šæ–‡ä»¶ç±»å‹ï¼Œç¬¬1-3ä½ç¡®å®šå±ä¸»ï¼ˆè¯¥æ–‡ä»¶çš„**æ‰€æœ‰è€…**ï¼‰æ‹¥æœ‰è¯¥æ–‡ä»¶çš„æƒé™ã€‚ç¬¬4-6ä½ç¡®å®šå±ç»„ï¼ˆæ‰€æœ‰è€…çš„**åŒç»„**ç”¨æˆ·ï¼‰æ‹¥æœ‰è¯¥æ–‡ä»¶çš„æƒé™ï¼Œç¬¬7-9ä½ç¡®å®š**å…¶ä»–ç”¨æˆ·**æ‹¥æœ‰è¯¥æ–‡ä»¶çš„æƒé™ã€‚

å…¶ä¸­ï¼š

ç¬¬1ã€4ã€7ä½è¡¨ç¤ºè¯»æƒé™ï¼Œå¦‚æœç”¨"r"å­—ç¬¦è¡¨ç¤ºï¼Œåˆ™æœ‰è¯»æƒé™ï¼Œå¦‚æœç”¨"-"å­—ç¬¦è¡¨ç¤ºï¼Œåˆ™æ²¡æœ‰è¯»æƒé™ï¼›

ç¬¬2ã€5ã€8ä½è¡¨ç¤ºå†™æƒé™ï¼Œå¦‚æœç”¨"w"å­—ç¬¦è¡¨ç¤ºï¼Œåˆ™æœ‰å†™æƒé™ï¼Œå¦‚æœç”¨"-"å­—ç¬¦è¡¨ç¤ºæ²¡æœ‰å†™æƒé™ï¼›

ç¬¬3ã€6ã€9ä½è¡¨ç¤ºå¯æ‰§è¡Œæƒé™ï¼Œå¦‚æœç”¨"x"å­—ç¬¦è¡¨ç¤ºï¼Œåˆ™æœ‰æ‰§è¡Œæƒé™ï¼Œå¦‚æœç”¨"-"å­—ç¬¦è¡¨ç¤ºï¼Œåˆ™æ²¡æœ‰æ‰§è¡Œæƒé™ã€‚

å¯¹äºæ–‡ä»¶æ¥è¯´ï¼Œå®ƒéƒ½æœ‰ä¸€ä¸ªç‰¹å®šçš„æ‰€æœ‰è€…ï¼Œä¹Ÿå°±æ˜¯å¯¹è¯¥æ–‡ä»¶å…·æœ‰æ‰€æœ‰æƒçš„ç”¨æˆ·ã€‚

åŒæ—¶ï¼Œåœ¨Linuxç³»ç»Ÿä¸­ï¼Œç”¨æˆ·æ˜¯æŒ‰ç»„åˆ†ç±»çš„ï¼Œä¸€ä¸ªç”¨æˆ·å±äºä¸€ä¸ªæˆ–å¤šä¸ªç»„ã€‚

æ–‡ä»¶æ‰€æœ‰è€…ä»¥å¤–çš„ç”¨æˆ·åˆå¯ä»¥åˆ†ä¸ºæ–‡ä»¶æ‰€æœ‰è€…çš„åŒç»„ç”¨æˆ·å’Œå…¶ä»–ç”¨æˆ·ã€‚

å› æ­¤ï¼ŒLinuxç³»ç»ŸæŒ‰æ–‡ä»¶æ‰€æœ‰è€…ã€æ–‡ä»¶æ‰€æœ‰è€…åŒç»„ç”¨æˆ·å’Œå…¶ä»–ç”¨æˆ·æ¥è§„å®šäº†ä¸åŒçš„æ–‡ä»¶è®¿é—®æƒé™ã€‚

åœ¨ä»¥ä¸Šå®ä¾‹ä¸­ï¼Œboot æ–‡ä»¶æ˜¯ä¸€ä¸ªç›®å½•æ–‡ä»¶ï¼Œå±ä¸»å’Œå±ç»„éƒ½ä¸º root

## ä¿®æ”¹æ–‡ä»¶å±æ€§

```bash
# æ›´æ”¹æ–‡ä»¶ç»„, æ¯”è¾ƒå°‘ç”¨
chgrp [-R] ç»„å æ–‡ä»¶å

# ä¿®æ”¹æ–‡ä»¶çš„æ‰€å±ç”¨æˆ·
chown [-R] ç”¨æˆ· æ–‡ä»¶å

# ä¿®æ”¹æ–‡ä»¶å±æ€§
chmod [-R] path
# é€šè¿‡æ•°å­—è¡¨ç¤ºå¯¹åº”çš„æƒé™, r:4 w:2 x:1, æ²¡æœ‰æƒé™å°±æ˜¯0, ä¸‰ä½æƒé™çš„å’Œä»£è¡¨è®¾ç½®æŸä¸€é¡¹çš„æƒé™
chmod 777 path # è®¾ç½®å…¨éƒ¨æƒé™, ç›¸å½“äº rwxrwxrwx
chmod 700 path # rwx------
```

# æŸ¥çœ‹æ–‡ä»¶å†…å®¹

æŸ¥çœ‹æ–‡ä»¶å†…å®¹çš„å‘½ä»¤

```shell
# ç¬¬ä¸€è¡Œå¼€å§‹æ˜¾ç¤ºæ–‡ä»¶å†…å®¹
cat 

# tac æœ€åä¸€è¡Œå¼€å§‹æ˜¾ç¤º, cat tac ...
tac

# ç°å®çš„æ—¶å€™ä¼šè¾“å‡ºè¡Œå·
nl

# åˆ†é¡µæ˜¾ç¤ºå†…å®¹
# ç©ºæ ¼ä»£è¡¨ç¿»é¡µ, enterå‘ä¸‹ä¸€è¡Œ, å‚æ•° :f æ˜¾ç¤ºè¡Œå·
# é€šè¿‡ /xx å‘ä¸‹æœç´¢å…³é”®è¯ xx çš„ä½ç½®, é€šè¿‡ ?xx å‘ä¸Šæœç´¢å…³é”®è¯ xx çš„ä½ç½®
# n: å‘ä¸‹å¯»æ‰¾ä¸‹ä¸€ä¸ªå…³é”®è¯, N: å‘ä¸Šå¯»æ‰¾
more

# åˆ†é¡µæ˜¾ç¤ºå†…å®¹, å¯ä»¥å®ç°å‰åç¿»é¡µ, é€šè¿‡ä¸Šä¸‹ç®­å¤´è¿›è¡Œç¿»é¡µ
less

# æŸ¥çœ‹å†…å®¹çš„å¤´å‡ è¡Œ
head -n 20 # æŸ¥çœ‹å¤´ 20 è¡Œå‘½ä»¤

# æŸ¥çœ‹å†…å®¹çš„å°¾å‡ è¡Œ
tail
```

# é“¾æ¥

Linux ä¸­é“¾æ¥åˆ†ä¸ºä¸¤ç§:

- ç¡¬è¿æ¥: A ~> B, å‡è®¾ B æ˜¯ A çš„ç¡¬é“¾æ¥, é‚£ä¹ˆä»–ä»¬æŒ‡å‘äº†åŒä¸€ä¸ªæ–‡ä»¶
  - linux å…è®¸ä¸€ä¸ªæ–‡ä»¶æ‹¥æœ‰å¤šä¸ªè·¯å¾„, å³å¦‚æœä¸€ä¸ªæ–‡ä»¶æœ‰ A å’Œ B çš„ç¡¬é“¾æ¥, A è¢«åˆ é™¤äº†è¿˜å¯ä»¥é€šè¿‡ B è®¿é—®æ–‡ä»¶
  - å¯ä»¥é€šè¿‡å»ºç«‹ç¡¬é“¾æ¥åˆ°ä¸€äº›é‡è¦æ–‡ä»¶ä¸Šé˜²æ­¢è¯¯åˆ æ–‡ä»¶
- è½¯é“¾æ¥: ç±»ä¼¼ windows çš„å¿«æ·æ–¹å¼, åˆ é™¤äº†æºæ–‡ä»¶ä¹Ÿè®¿é—®ä¸äº†

```bash
# ç”Ÿæˆ f1 çš„ç¡¬è¿æ¥ f2
ln f1 f2
# ç”Ÿæˆ f2 çš„è½¯é“¾æ¥
ln -s f1 f2
```

åˆ›å»ºä¸€ä¸ªç¡¬é“¾æ¥åªæ˜¯å°†ä¸€ä¸ªæ–‡ä»¶åˆ›å»ºå¤šä¸€ä»½"é“¾æ¥", å¦‚æœä¸€ä¸ªæ–‡ä»¶æœ‰ä¸¤ä¸ªé“¾æ¥ A , B, åˆ é™¤ B æ˜¯ä¸ä¼šç¡¬ç›˜ä¸­çš„æ–‡ä»¶çš„, æ­¤æ—¶å¦‚æœæŠŠ A ä¹Ÿåˆ é™¤äº†æˆ‘ä¹Ÿå¹¶ä¸ç¡®å®šç¡¬ç›˜ä¸­çš„æ–‡ä»¶æ˜¯å¦ä¼šè¢«åˆ é™¤

- ç›¸å¯¹äº cp , ln åªæ˜¯åˆ›å»ºé“¾æ¥, è€Œ cp ä¼šå†ç¡¬ç›˜ä¸­åˆ›å»ºå¤šä¸€ä»½å†…å®¹

# ç½‘ç»œ

```shell
# æŸ¥çœ‹ç½‘ç»œä¿¡æ¯, æ³¨æ„å’Œ windows çš„ ipconfig çš„åŒºåˆ«
ifconfig
```

# Vim

vim ä¸»è¦è®°ä½å„ç§å‘½ä»¤å°±è¡Œ, æ€ä¹ˆæ–¹ä¾¿æ€ä¹ˆæ¥

## Vim æ¨¡å¼

Vim æœ‰ä¸‰ç§æ¨¡å¼:

- å‘½ä»¤æ¨¡å¼ command mode
- è¾“å…¥æ¨¡å¼ insert mode
- åº•çº¿å‘½ä»¤æ¨¡å¼ last line mode

åˆšè¿›å…¥ vim æ—¶å°±æ˜¯å‘½ä»¤æ¨¡å¼, é€šè¿‡æŒ‰é”®è¿›è¡Œå„ç§æ“ä½œ:

- i åˆ‡æ¢åˆ°è¾“å…¥æ¨¡å¼
- x åˆ é™¤å½“å‰å…‰æ ‡æ‰€å¤„çš„å­—ç¬¦
- : è¿›å…¥åº•çº¿å‘½ä»¤æ¨¡å¼
- Esc: é€€å‡ºè¾“å…¥æ¨¡å¼

å¸¸ç”¨å‘½ä»¤:

```shell
# åˆ°æ–‡æœ¬çš„å¤´ä¸€è¡Œ
gg
# åˆ°æ–‡æœ¬çš„æœ€åä¸€è¡Œ
G
# ç§»åŠ¨åˆ°å±å¹•çš„ç¬¬ä¸€è¡Œ
H
# ç§»åŠ¨åˆ°å±å¹•çš„ä¸­é—´è¡Œ
M
# ç§»åŠ¨åˆ°å±å¹•æœ€ä¸‹æ–¹çš„ä¸€è¡Œ
L
# åˆ é™¤å½“å‰è¡Œ
dd
# n ä¸ºæ•°å­—, è¡¨ç¤ºå‘ä¸‹ç§»åŠ¨ n è¡Œ
n+enter
```

åº•çº¿å‘½ä»¤

```shell
# w æ˜¯ä¿å­˜, qæ˜¯é€€å‡º, wqå³ä¿å­˜å¹¶é€€å‡º
:wq
# åˆ é™¤ç¬¬ n è¡Œ
:nd

# æ˜¾ç¤ºè¡Œå·
:set nu
# ä¸æ˜¾ç¤ºè¡Œå·
:set nonu
```

# è´¦å·ç®¡ç†

è®¾ç½®ä¸åŒçš„è´¦å·å¯ä»¥æ›´å¥½çš„è¿›è¡Œèµ„æºçš„æ§åˆ¶å’Œå®‰å…¨ç®¡ç†

```shell
# æ·»åŠ ç”¨æˆ·
useradd -[] username
-m : è‡ªåŠ¨åˆ›å»ºä¸»ç›®å½• å³ /home/username
-c : comment æ·»åŠ æ³¨é‡Šæ€§
-d : ç›®å½• æŒ‡å®šç”¨æˆ·ä¸»ç›®å½•è·¯å¾„ï¼Œå¦‚æœæ­¤ç›®å½•ä¸å­˜åœ¨ï¼Œåˆ™åŒæ—¶ä½¿ç”¨ -m é€‰é¡¹ï¼Œå¯ä»¥åˆ›å»ºä¸»ç›®å½•
-g : ç”¨æˆ·ç»„ æŒ‡å®šç”¨æˆ·æ‰€å±çš„ç”¨æˆ·ç»„
-G : ç”¨æˆ·ç»„ï¼Œç”¨æˆ·ç»„ æŒ‡å®šç”¨æˆ·æ‰€å±çš„é™„åŠ ç»„
-s : Shellæ–‡ä»¶ æŒ‡å®šç”¨æˆ·çš„ç™»å½•Shell
-u : ç”¨æˆ·å· æŒ‡å®šç”¨æˆ·çš„ç”¨æˆ·å·ï¼Œå¦‚æœåŒæ—¶æœ‰-oé€‰é¡¹ï¼Œåˆ™å¯ä»¥é‡å¤ä½¿ç”¨å…¶ä»–ç”¨æˆ·çš„æ ‡è¯†å·

# åˆ é™¤ç”¨æˆ·
# åˆ é™¤ç”¨æˆ·å³å°† /etc/passwd ç”¨æˆ·ä¿¡æ¯åˆ é™¤æ‰
userdel -r username
-r : åˆ é™¤ç”¨æˆ·çš„åŒæ—¶ä¹Ÿåˆ é™¤ç”¨æˆ·çš„ä¸»ç›®å½•

# ä¿®æ”¹ç”¨æˆ·
# usermod çš„é€‰é¡¹åŒæ·»åŠ ç”¨æˆ·
usermod -[] username
usermod -d /xx # åˆ‡æ¢ç”¨æˆ·ä¸»ç›®å½•
# ç»™ç”¨æˆ·è®¾ç½®å¯†ç 
passwd username 

# åˆ‡æ¢ç”¨æˆ·
su user # åˆ‡æ¢åˆ° user è´¦æˆ·, æƒ³è¦é€€å‡ºå°± exit
```

# Ubuntu ä¿®æ”¹ hostname

æŸ¥çœ‹ä¸»æœºå

```shell
# æŸ¥çœ‹ä¸»æœºå
hostname
```

è®¾ç½® /etc/cloud/cloud.cfg çš„ preserve_hostname å±æ€§è®¾ç½®ä¸º true

![image-20211217222930464](/Users/qr/note/linux/image-20211217222930464.png)

é€šè¿‡ `hostnamectl set-hostname` ä¸»æœºåè®¾ç½®æ–°çš„ä¸»æœºå

```shell
hostnamectl set-hostname newHostname
```



# Ubuntu å®‰è£… mysql

ubuntu æœ¬æœºå®‰è£…è½¯ä»¶ mysql

```shell
# æ›´æ–°è½¯ä»¶æº
sudo apt-get update
# å®‰è£…mysql
sudo apt-get install mysql-server
```

å®‰è£…åé»˜è®¤æ˜¯æ²¡æœ‰å¯†ç çš„, å¯ä»¥åœ¨ "mysql" åº“çš„ user è¡¨ä¸­è®¾ç½®å¯†ç 

```shell
# æŸ¥çœ‹ä¿¡æ¯
select Host, authentication_string, user from user;
# ä¿®æ”¹å¯†ç 
ALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY 'newPassword';  
```



# æ–‡ä»¶å¥æŸ„

æ–‡ä»¶å¥æŸ„ä¹Ÿå«æ–‡ä»¶æè¿°ç¬¦, åŸå› æ˜¯ Linux ç³»ç»Ÿçš„ä¸€ä¸ªçº¿ç¨‹é»˜è®¤å€¼ä¸º1024, ä¹Ÿå°±æ˜¯è¯´, é»˜è®¤æƒ…å†µä¸‹ä¸€ä¸ªçº¿ç¨‹æœ€å¤šå¯ä»¥æ¥å— 1024 ä¸ª socket è¿æ¥

- ç™¾åº¦äº†ä¸€ä¸‹, æ–‡ä»¶å¥æŸ„ä¼¼ä¹è¢«ç¿»è¯‘æˆ file handle , ä¸ªäººç†è§£æˆæ˜¯ç”¨äºæ“ä½œæ–‡ä»¶çš„ä¸œè¥¿
- æŸ¥çœ‹äº†ä¸‹é˜¿é‡Œäº‘çš„é»˜è®¤ file handle æ˜¯ 65535

åœ¨ Linux ä¸‹ï¼Œé€šè¿‡è°ƒç”¨ `ulimit` å‘½ä»¤å¯ä»¥çœ‹åˆ°ä¸€ä¸ªè¿›ç¨‹èƒ½å¤Ÿæ‰“å¼€çš„æœ€å¤§æ–‡ä»¶å¥æŸ„æ•°é‡ã€‚

```shell
# æŸ¥çœ‹ä¸€ä¸ªçº¿ç¨‹çš„ file handler
# -n ç”¨äºå¼•ç”¨æˆ–è®¾ç½®å½“å‰çš„æ–‡ä»¶å¥æŸ„æ•°é‡çš„é™åˆ¶å€¼ï¼ŒLinuxç³»ç»Ÿçš„é»˜è®¤å€¼ä¸º1024, å¦‚æœ -n åä¸è®¾ç½®å€¼åˆ™è¡¨ç¤ºæŸ¥çœ‹å½“å‰å€¼
ulimit -n
# -S è¡¨ç¤ºè½¯æ€§æé™å€¼, è½¯æ€§æé™å€¼åˆ™æ˜¯ç³»ç»Ÿå‘å‡ºè­¦å‘Šï¼ˆWarningï¼‰çš„æé™å€¼ï¼Œè¶…è¿‡è¿™ä¸ªæé™å€¼ï¼Œå†…æ ¸ä¼šå‘å‡ºè­¦å‘Šã€‚
# -H è¡¨ç¤ºç¡¬æ€§æé™å€¼, ç¡¬æ€§æé™å€¼æ˜¯å®é™…çš„é™åˆ¶ï¼Œ
ulimit -SHn
```

è¦å½»åº•è§£é™¤ Linux ç³»ç»Ÿçš„æœ€å¤§æ–‡ä»¶æ‰“å¼€æ•°é‡çš„é™åˆ¶ï¼Œå¯ä»¥é€šè¿‡ç¼–è¾‘ Linux çš„æé™é…ç½®æ–‡ä»¶`/etc/security/limits.conf`æ¥åšåˆ°

# Screen

## screen çš„å¸¸ç”¨å‘½ä»¤

å¸¸ç”¨å‘½ä»¤: 

```shell
# æ–°å»ºä¸€ä¸ªå« screenName çš„session
screen -S screenName
# åˆ—å‡ºæ‰€æœ‰åˆ›å»ºçš„ screen
screen -ls 
# è¿›å…¥åˆ° screenName è¿™ä¸ªsession
screen -r screenName 
# è¿œç¨‹ detach æŸä¸ª session screenName
screen -d screenName
# ç»“æŸå½“å‰ session å¹¶å›åˆ° screenName è¿™ä¸ª session
screen -d -r screenName
```



# linux çš„é…ç½®æ–‡ä»¶

linux çš„ç³»ç»Ÿé…ç½®æ–‡ä»¶éƒ½æ˜¯å­˜æ”¾åœ¨ ``/etc/..`` ä¸­çš„

## rc.local

`/etc/re.local` æ˜¯ linux çš„å¼€æœºå¯åŠ¨æ–‡ä»¶, å¯ä»¥åœ¨é‡Œé¢è®¾ç½®æ— æ³•æ°¸ä¹…ä¿®æ”¹çš„æ“ä½œ, ä¾‹å¦‚è®¾ç½® file handle

## os-release

ä¼¼ä¹æ˜¯äº‘æœåŠ¡å™¨ä¸Šæ‰æœ‰çš„, å¯ä»¥è·å–åˆ°è‡ªå·±çš„å½“å‰æœåŠ¡å™¨ç‰ˆæœ¬çš„ä¸€äº›ä¿¡æ¯

```shell
vim /etc/os-release
NAME="Ubuntu"
VERSION="20.04.1 LTS (Focal Fossa)"
ID=ubuntu
ID_LIKE=debian
PRETTY_NAME="Ubuntu 20.04.1 LTS"
VERSION_ID="20.04"
HOME_URL="https://www.ubuntu.com/"
SUPPORT_URL="https://help.ubuntu.com/"
BUG_REPORT_URL="https://bugs.launchpad.net/ubuntu/"
PRIVACY_POLICY_URL="https://www.ubuntu.com/legal/terms-and-policies/privacy-policy"
VERSION_CODENAME=focal
UBUNTU_CODENAME=focal
```

## passwd

/etc/passwd : ä¿å­˜ç”¨æˆ·ä¿¡æ¯

## limits.conf

`/etc/security/limits.conf` linux çš„é™åˆ¶æ–‡ä»¶

# äºŒè¿›åˆ¶æ–‡ä»¶

è¿è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶æ–¹å¼: ç›´æ¥è¿è¡ŒæŒ‡å®šç›®å½•äº†

```shell
# äºŒè¿›åˆ¶æ–‡ä»¶ä¸€èˆ¬éƒ½ä¼šæ”¾åˆ° bin é‡Œé¢, ç›´æ¥è¿è¡Œå°±è¡Œäº†
/opt/terraria/bin/XX 
# å¦‚æœæ˜¯å½“å‰æ–‡ä»¶å¯ä»¥åŠ ä¸Š ./ 
./XX
```



# Script

## åŸºç¡€çŸ¥è¯†

ç»ˆç«¯ä»¥å¼€å¤´ $ è¡¨ç¤ºæ™®é€šç”¨æˆ·ï¼Œ# è¡¨ç¤ºç®¡ç†å‘˜ç”¨æˆ· root

## HelloWorld

ç¬¬ä¸€ä¸ªè„šæœ¬

```shell
#! /bin/bash
## author: qr
## This is my first script
date +"%Y-%m-%d %H:%M:%S" # date æ ¼å¼åŒ–è¾“å‡ºå½“å‰æ—¶é—´
echo 'My first script'
```



# æ³°æ‹‰ç‘äºšé…ç½®

## å‘½ä»¤

ä¸ºäº†æ–¹ä¾¿å–çš„åˆ«å:

```shell
# ç›´æ¥åˆ°æ³°æ‹‰ç‘äºšçš„æ ¹ç›®å½•
alias terraria='cd /opt/terraria/bin'
# æ ¹æ®é…ç½®æ–‡ä»¶è¿è¡Œæ¸¸æˆ
alias terraria-start='/opt/terraria/bin/TerrariaServer.bin.x86_64 -config /opt/terraria/config/terraria.conf'
```



```
world=/opt/terraria/worlds/QRçš„ä¸–ç•Œ.wld
autocreate=3
worldname=QRçš„ä¸–ç•Œ
difficulty=1
maxplayers=8
password=123456
worldpath=/opt/terraria/worlds

./TerrariaServer.bin.x86_64 -config /opt/terraria/config/terreria.conf
```

```shell
help            Displays a list of commands.
playing         Shows the list of players.
clear           Clear the console window.
exit            Shutdown the server and save.
exit-nosave     Shutdown the server without saving.
save            Save the game world.
kick <player>   Kicks a player from the server.
ban <player>    Bans a player from the server.
password        Show password.
password <pass> Change password.
version         Print version number.
time            Display game time.
port            Print the listening port.
maxplayers      Print the max number of players.
say <words>     Send a message.
motd            Print MOTD.
motd <words>    Change MOTD.
dawn            Change time to dawn.
noon            Change time to noon.
dusk            Change time to dusk.
midnight        Change time to midnight.
settle          Settle all water.
seed            Displays the world seed.
```

